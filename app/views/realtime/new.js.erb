<% if user_signed_in? %>
  var socket = io.connect('http://localhost:5001');

  console.log('<%= current_user.phone_number %>_realtime_channel');
  console.log('<%= current_user.phone_number %>_notification_channel');
  socket.on('<%= current_user.phone_number %>_realtime_channel', function (data) {
    console.log(data);
    data = JSON.parse(data);
    var count = data.unread_notification;
    if (count > 0) {
      $('.nht-notification-count').show();
      $('.nht-notification-count')[0].innerText = count.toString();
    }
    else if (count == 0) {
      $('.nht-notification-count').hide();
    }
    realtime_list_shippers(data);
  });
  socket.on('<%= current_user.phone_number %>_notification_channel', function (data) {
    data = JSON.parse(data);
    if (data.owner !== undefined) {
      console.log(data);
      owner = data.owner;
      invoice = data.invoice;
      notification = data.notification;

      owners.push(owner);
      invoices.push(invoice);
      notifications.push(notification);
    }
  });
<% else %>
  console.log('not login to realtime');
<% end %>
